(function(){const e=document.getElementById("input"),t=document.getElementById("output"),n=document.getElementById("obfuscate"),o=document.getElementById("opt-flow"),c=document.getElementById("opt-dead");document.querySelectorAll(".btn-clear").forEach(n=>{n.addEventListener("click",()=>{const o=n.getAttribute("data-target");"input"===o?e.value="":"output"===o&&(t.value="")})});document.querySelectorAll(".btn-copy").forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("data-target");if("output"===n&&t.value){navigator.clipboard.writeText(t.value).then(()=>{const t=e.textContent;e.textContent="Copied!",setTimeout(()=>{e.textContent=t},2e3)}).catch(()=>{e.textContent="Failed"})}})});n.addEventListener("click",()=>{const c=e.value.trim();if(!c)return void alert("Please enter Lua code to obfuscate");try{const e={controlFlow:o.checked,deadCode:c.checked};t.value=window.ObfuscateLua(c,e)}catch(e){alert("Obfuscation failed. Please check your input code.")}})})();
